{"version":3,"sources":["webpack:///src/views/newsList.vue","webpack:///./src/views/newsList.vue?e3c9","webpack:///./src/views/newsList.vue"],"names":["newsList","name","components","HomeTop","homeTop","publicTop","data","checkIndex","ir","list","tabList","bgc","this","GLOBAL","allL","loading","finished","loading1","finished1","activeName","activeId","pageNo","subList","pageNo1","subList1","isVideo","isNew","pIdNews","beforeRouteEnter","to","from","next","console","log","path","meta","keepAlive","beforeRouteLeave","$store","commit","sessionStorage","setItem","activated","methods","goTab","index","item","id","module","getSublist","getVideoList","$router","push","query","goDetailN","goDetailV","kh","that","params","type","$axios","post","lib_default","a","stringify","then","res","state","length","i","catch","err","_this","params1","categoryId","pageSize","object","newsPage","totalPage","weights","forEach","obj","hits","title","releaseDate","slice","publisher","concat","toConsumableArray_default","_this2","params2","page","weights1","date_default","formatTimeTwo","url","videoSrc","imageSrc","movielen","created","$route","JSON","parse","localStorage","getItem","mounted","beforeDestory","destroyed","views_newsList","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_l","key","class","on","click","$event","_s","attrs","immediate-check","finished-text","loading-text","load","model","value","callback","$$v","expression","_e","src","alt","__webpack_require__","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/18.d05af0a32bc9780e3705.js","sourcesContent":["<template>\r\n  <div class=\"con\">\r\n    <publicTop></publicTop>\r\n    <div class=\"home-tabs\">\r\n      <div class=\"home-tabs-all\">\r\n        <div\r\n          v-for=\"(item, index) in tabList\"\r\n          :key=\"index\"\r\n          class=\"home-tabs-li\"\r\n          :class=\"ir == index ? 'home-tabs-li-active' : ''\"\r\n          @click=\"goTab(index, item)\"\r\n        >\r\n          <div class=\"home-tabs-li-text\">{{ item.name }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 底部列表 -->\r\n    <div class=\"list-all\" v-if=\"subList.length != 0\">\r\n      <van-list\r\n        :immediate-check=\"false\"\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        loading-text=\"下拉查看全部\"\r\n        @load=\"getSublist\"\r\n      >\r\n        <div\r\n          v-for=\"(item, index) in subList\"\r\n          :key=\"index\"\r\n          class=\"list-all-li\"\r\n          @click=\"goDetailN(item.id)\"\r\n        >\r\n          <div class=\"list-all-li-top\">\r\n            {{ item.title }}\r\n          </div>\r\n          <div class=\"list-all-li-end\">\r\n            <div class=\"list-all-li-end-l\">\r\n              来源于{{ item.publisher }}\r\n              <span>{{ item.hits }}次浏览数</span>\r\n            </div>\r\n            <div class=\"list-all-li-end-r\">{{ item.releaseDate }}</div>\r\n          </div>\r\n        </div>\r\n      </van-list>\r\n    </div>\r\n    <div class=\"list-all\" v-if=\"subList1.length != 0\">\r\n      <van-list\r\n        :immediate-check=\"false\"\r\n        v-model=\"loading1\"\r\n        :finished=\"finished1\"\r\n        finished-text=\"没有更多了\"\r\n        loading-text=\"下拉查看全部\"\r\n        @load=\"getVideoList\"\r\n      >\r\n        <div\r\n          v-for=\"(item, index) in subList1\"\r\n          :key=\"index\"\r\n          class=\"list-all-li\"\r\n          @click=\"goDetailV(item.id)\"\r\n        >\r\n          <div class=\"list-all-li-tt\">\r\n            <div class=\"list-all-li-tt-l\">\r\n              {{ item.title }}\r\n            </div>\r\n            <div class=\"list-all-li-tt-r\">\r\n              <div class=\"list-all-li-tt-r-ab\" v-if=\"item.movielen\">\r\n                {{ item.movielen }}\r\n              </div>\r\n              <img :src=\"item.imageSrc\" alt=\"\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"list-all-li-end\">\r\n            <div class=\"list-all-li-end-l\">\r\n              来源于{{ item.publisher }}\r\n              <span>{{ item.hits }}次浏览数</span>\r\n            </div>\r\n            <div class=\"list-all-li-end-r\">{{ item.releaseDate }}</div>\r\n          </div>\r\n        </div>\r\n      </van-list>\r\n    </div>\r\n    <div class=\"list-all-no\" v-if=\"isVideo == 9 || isNew == 9\">\r\n      <img src=\"@/assets/noData.png\" alt=\"\" class=\"list-all-no-img\" />\r\n      <div class=\"list-all-no-text\">暂无数据</div>\r\n    </div>\r\n\r\n    <HomeTop :i=\"checkIndex\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport qs from \"qs\";\r\nimport HomeTop from \"@/components/homeTop.vue\";\r\nimport publicTop from \"@/components/publicTop.vue\";\r\nimport date from \"@/utils/date.js\";\r\nexport default {\r\n  name: \"newsList\",\r\n  components: {\r\n    HomeTop,\r\n    publicTop,\r\n  },\r\n  data() {\r\n    return {\r\n      checkIndex: 1,\r\n      ir: 0,\r\n      list: [],\r\n      tabList: [],\r\n      bgc: this.GLOBAL.bgc,\r\n      allL: [8, 9, 7, 6, 3, 1, 0],\r\n      loading: false,\r\n      finished: false,\r\n      loading1: false,\r\n      finished1: false,\r\n      activeName: \"\",\r\n      activeId: \"\",\r\n      pageNo: 1,\r\n      subList: [],\r\n      pageNo1: 1,\r\n      subList1: [],\r\n      isVideo: \"\",\r\n      isNew: \"\",\r\n      pIdNews: \"\",\r\n    };\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    console.log(to, \"to\", from, \"from\");\r\n    if (from.path == \"/newsDetail\" || from.path == \"/videoDetail\") {\r\n      to.meta.keepAlive = true;\r\n    } else {\r\n      to.meta.keepAlive = false;\r\n    }\r\n    next();\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    if (to.path == \"/newsDetail\" || to.path == \"/videoDetail\") {\r\n      this.$store.commit(\"GET_CATCHE_COMPONENTS\", [\"newsList\"]);\r\n    } else {\r\n      this.$store.commit(\"GET_CATCHE_COMPONENTS\", []);\r\n      sessionStorage.setItem(\"name\", \"\");\r\n    }\r\n    next();\r\n  },\r\n  activated() {\r\n    console.log(\"触发\");\r\n  },\r\n  methods: {\r\n    goTab(index, item) {\r\n      this.ir = index;\r\n      this.activeId = item.id;\r\n      this.pageNo = 1;\r\n      this.subList = [];\r\n      this.pageNo1 = 1;\r\n      this.subList1 = [];\r\n      this.isVideo = \"\";\r\n      this.isNew = \"\";\r\n      this.finished = false;\r\n      this.finished1 = false;\r\n      if (item.module == \"article\") {\r\n        this.getSublist();\r\n      } else {\r\n        this.getVideoList();\r\n      }\r\n      // 此处url加id是为了和pc能呼应，不影响逻辑\r\n      this.$router.push({ path: \"/newsList\", query: { id: this.activeId } });\r\n    },\r\n    goDetailN(id) {\r\n      // this.$store.commit(\"updataNewsId\", id);\r\n      // this.$router.push({ name: \"newsDetail\" });\r\n      this.$router.push({\r\n        path: \"/newsDetail\",\r\n        query: { id: id },\r\n      });\r\n      //  query: { id: id,type:9999999 },\r\n    },\r\n    goDetailV(id) {\r\n      // this.$store.commit(\"updataNewsId\", id);\r\n      // this.$router.push({ name: \"videoDetail\" });\r\n      this.$router.push({\r\n        path: \"/videoDetail\",\r\n        query: { id: id },\r\n      });\r\n    },\r\n    kh() {\r\n      let that = this;\r\n      const params = {\r\n        type: \"mobile\",\r\n      };\r\n      console.log(params);\r\n      that.$axios\r\n        .post(\"/f/ajaxHome/ajax_categoryMapList\", qs.stringify(params))\r\n        .then((res) => {\r\n          console.log(res, \"数据list\");\r\n          if (res.data.state == 1) {\r\n            if (res.data.data && res.data.data.length != 0) {\r\n              that.tabList = res.data.data;\r\n            }\r\n\r\n            // if (res.data.data.length != 0) {\r\n            //   if (that.activeName == \"\") {\r\n            //     that.activeId = res.data.data[0].id;\r\n            //     if (res.data.data[0].module == \"article\") {\r\n            //       that.getSublist();\r\n            //     } else {\r\n            //       that.getVideoList();\r\n            //     }\r\n            //   } else {\r\n            //     for (var i = 0; i < res.data.data.length; i++) {\r\n            //       if (res.data.data[i].name == that.activeName) {\r\n            //         that.activeId = res.data.data[i].id;\r\n            //         that.ir = i;\r\n            //         if (res.data.data[i].module == \"article\") {\r\n            //           that.getSublist();\r\n            //         } else {\r\n            //           that.getVideoList();\r\n            //         }\r\n            //       }\r\n            //     }\r\n            //   }\r\n            // }\r\n            if (res.data.data.length != 0) {\r\n              if (that.pIdNews == \"\") {\r\n                that.activeId = res.data.data[0].id;\r\n                if (res.data.data[0].module == \"article\") {\r\n                  that.getSublist();\r\n                } else {\r\n                  that.getVideoList();\r\n                }\r\n              } else {\r\n                for (var i = 0; i < res.data.data.length; i++) {\r\n                  if (res.data.data[i].id == that.pIdNews) {\r\n                    that.activeId = res.data.data[i].id;\r\n                    that.ir = i;\r\n                    if (res.data.data[i].module == \"article\") {\r\n                      that.getSublist();\r\n                    } else {\r\n                      that.getVideoList();\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"获取失败\");\r\n        });\r\n    },\r\n    getSublist() {\r\n      this.loading = true;\r\n      const params1 = {\r\n        categoryId: this.activeId,\r\n        pageNo: this.pageNo,\r\n        pageSize: 10,\r\n      };\r\n      console.log(params1);\r\n      this.$axios\r\n        .post(\"/f/newsCenter/ajax_list\", qs.stringify(params1))\r\n        .then((res) => {\r\n          console.log(res, \"子列表\");\r\n          if (res.data.state == 1) {\r\n            this.loading = false;\r\n            if (this.pageNo <= res.data.object.newsPage.totalPage) {\r\n              ++this.pageNo;\r\n              if (\r\n                res.data.object.newsPage.list &&\r\n                res.data.object.newsPage.list.length != 0\r\n              ) {\r\n                var weights = [];\r\n                res.data.object.newsPage.list.forEach((item) => {\r\n                  var obj = {\r\n                    type: 0,\r\n                    hits: item.hits,\r\n                    title: item.title,\r\n                    releaseDate: item.releaseDate.slice(0, 10),\r\n                    publisher: item.publisher,\r\n                    id: item.id,\r\n                  };\r\n                  weights.push(obj);\r\n                });\r\n\r\n                this.subList = [...this.subList, ...weights];\r\n                console.log(this.subList, \"888\");\r\n              }\r\n            } else {\r\n              this.finished = true;\r\n            }\r\n            if (this.subList.length == 0) {\r\n              this.subList = [];\r\n              this.isNew = 9;\r\n            }\r\n          } else {\r\n            this.subList = [];\r\n            this.isNew = 9;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"获取失败\");\r\n        });\r\n    },\r\n    getVideoList() {\r\n      this.loading1 = true;\r\n      const params2 = {\r\n        categoryId: this.activeId,\r\n        pageNo: this.pageNo1,\r\n        pageSize: 10,\r\n      };\r\n      console.log(params2);\r\n      this.$axios\r\n        .post(\"/f/newsCenter/ajax_movie_list\", qs.stringify(params2))\r\n        .then((res) => {\r\n          console.log(res, \"子列表video\");\r\n          if (res.data.state == 1) {\r\n            this.loading1 = false;\r\n            if (this.pageNo1 <= res.data.data.page.totalPage) {\r\n              ++this.pageNo1;\r\n              if (\r\n                res.data.data.page.list &&\r\n                res.data.data.page.list.length != 0\r\n              ) {\r\n                var weights1 = [];\r\n                res.data.data.page.list.forEach((item) => {\r\n                  var obj = {\r\n                    type: 1,\r\n                    hits: item.hits,\r\n                    title: item.title,\r\n                    releaseDate: date\r\n                      .formatTimeTwo(item.releaseDate / 1000, \"Y-M-D\")\r\n                      .slice(0, 10),\r\n                    url: item.url,\r\n                    id: item.id,\r\n                    videoSrc: item.videoSrc,\r\n                    imageSrc: item.imageSrc,\r\n                    publisher: item.publisher,\r\n                    movielen: item.movielen,\r\n                  };\r\n                  weights1.push(obj);\r\n                });\r\n                this.subList1 = [...this.subList1, ...weights1];\r\n                console.log(this.subList1, \"88833333\");\r\n              }\r\n            } else {\r\n              this.finished1 = true;\r\n            }\r\n\r\n            if (this.subList1.length == 0) {\r\n              this.subList1 = [];\r\n              this.isVideo = 9;\r\n            }\r\n          } else {\r\n            this.subList1 = [];\r\n            this.isVideo = 9;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"获取失败\");\r\n        });\r\n    },\r\n  },\r\n  created() {\r\n    console.log(\r\n      this.$route.query.id,\r\n      JSON.parse(localStorage.getItem(\"LIST4\")),\r\n      22\r\n    );\r\n    // if (\r\n    //   sessionStorage.getItem(\"name\") == \"undefined\" ||\r\n    //   sessionStorage.getItem(\"name\") == \"\" ||\r\n    //   sessionStorage.getItem(\"name\") == null\r\n    // ) {\r\n    //   this.activeName = \"\";\r\n    // } else {\r\n    //   this.activeName = sessionStorage.getItem(\"name\");\r\n    // }\r\n    // console.log(this.activeName, \"this.activeName\");\r\n\r\n    // if (\r\n    //   sessionStorage.getItem(\"pIdNews\") == \"undefined\" ||\r\n    //   sessionStorage.getItem(\"pIdNews\") == \"\" ||\r\n    //   sessionStorage.getItem(\"pIdNews\") == null\r\n    // ) {\r\n    //   this.pIdNews = \"\";\r\n    // } else {\r\n    //   this.pIdNews = sessionStorage.getItem(\"pIdNews\");\r\n    // }\r\n    // console.log(this.pIdNews, \"this.pIdNews\");\r\n\r\n    // 这种写法是为了对应pc，且刷新正常，url传参获取，而不是缓存id\r\n    this.pIdNews = this.$route.query.id;\r\n    console.log(this.pIdNews, \"this.pIdNews\");\r\n\r\n    this.kh();\r\n  },\r\n  mounted() {},\r\n  beforeDestory() {},\r\n  destroyed() {},\r\n};\r\n</script>\r\n<style lang=\"css\" scoped>\r\n.con {\r\n  background-color: #f5f5f5;\r\n  padding-bottom: 1.66rem;\r\n  min-height: 100%;\r\n}\r\n\r\n.home-tabs {\r\n  width: 7.5rem;\r\n  background-color: #ffffff;\r\n  padding: 0.3rem 0.4rem 0rem 0.4rem;\r\n  box-sizing: border-box;\r\n  /* height: 1.32rem; */\r\n}\r\n\r\n.home-tabs-all {\r\n  width: 100%;\r\n  overflow-x: scroll;\r\n  -webkit-overflow-scrolling: touch;\r\n  display: -webkit-box;\r\n  white-space: nowrap;\r\n}\r\n.home-tabs-all::-webkit-scrollbar {\r\n  width: 0;\r\n  height: 0;\r\n  display: none;\r\n}\r\n.home-tabs-li {\r\n  /* display: inline-block; */\r\n  margin-right: 0.4rem;\r\n  height: 0.6rem;\r\n  position: relative;\r\n}\r\n\r\n.home-tabs-li-text {\r\n  font-family: PingFangSC-Medium;\r\n  font-size: 0.32rem;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  letter-spacing: -1rpx;\r\n  color: #9fa4b3;\r\n}\r\n.home-tabs-li-active::after {\r\n  position: absolute;\r\n  width: 0.36rem;\r\n  height: 0.04rem;\r\n  background-image: linear-gradient(90deg, #2196f3 0%, #4760d7 100%);\r\n  border-radius: 0.05rem;\r\n  bottom: 0;\r\n  left: 50%;\r\n  content: \"\";\r\n  transform: translate(-50%);\r\n}\r\n.home-tabs-li-active .home-tabs-li-text {\r\n  font-family: PingFangSC-Medium;\r\n  font-size: 0.34rem;\r\n  font-weight: bold !important;\r\n  font-stretch: normal;\r\n  letter-spacing: 0rpx;\r\n  color: #0f1b41 !important;\r\n}\r\n\r\n/* 列表 */\r\n.list-all {\r\n  width: 7.5rem;\r\n  padding: 0 0.32rem;\r\n  box-sizing: border-box;\r\n  margin-top: 0.25rem;\r\n}\r\n.list-all-li {\r\n  width: 6.86rem;\r\n  background-color: #ffffff;\r\n  border-radius: 0.12rem;\r\n  margin-bottom: 0.2rem;\r\n  padding: 0.4rem 0.32rem;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n}\r\n.list-all-li-top {\r\n  width: 6.22rem;\r\n  font-family: PingFangSC-Medium;\r\n  font-size: 0.32rem;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  letter-spacing: 0rem;\r\n  color: #2b2e34;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 1;\r\n  -webkit-box-orient: vertical;\r\n  word-break: break-all;\r\n  text-align: left;\r\n}\r\n.list-all-li-end {\r\n  width: 6.22rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 0.18rem;\r\n}\r\n.list-all-li-end-l {\r\n  font-family: PingFangSC-Regular;\r\n  font-size: 0.24rem;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  letter-spacing: 0rem;\r\n  color: #b3b3b3;\r\n}\r\n.list-all-li-end-l span {\r\n  display: inline-block;\r\n  margin-left: 0.2rem;\r\n}\r\n.list-all-li-end-r {\r\n  font-family: PingFangSC-Regular;\r\n  font-size: 0.24rem;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  letter-spacing: 0rem;\r\n  color: #b3b3b3;\r\n}\r\n\r\n.list-all-li-tt {\r\n  width: 6.22rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.list-all-li-tt-l {\r\n  width: 3.9rem;\r\n  font-family: PingFangSC-Medium;\r\n  font-size: 0.32rem;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  letter-spacing: 0rem;\r\n  color: #2b2e34;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  word-break: break-all;\r\n  text-align: left;\r\n  height: 0.9rem;\r\n}\r\n.list-all-li-tt-r {\r\n  width: 2.1rem;\r\n  height: 1.36rem;\r\n  border-radius: 0.02rem;\r\n  position: relative;\r\n}\r\n.list-all-li-tt-r-ab {\r\n  position: absolute;\r\n  bottom: 0;\r\n  right: 0;\r\n  width: 0.7rem;\r\n  height: 0.36rem;\r\n  background-color: rgba(0, 0, 0, 0.38);\r\n  text-align: center;\r\n  line-height: 0.36rem !important;\r\n  font-family: PingFangSC-Regular;\r\n  font-size: 0.22rem;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  letter-spacing: 0rem;\r\n  color: #ffffff;\r\n}\r\n.list-all-li-tt-r img {\r\n  width: 2.1rem;\r\n  height: 1.36rem;\r\n  border-radius: 0.02rem;\r\n}\r\n.list-all-no {\r\n  width: 7.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 1.5rem 0.32rem;\r\n  justify-content: center;\r\n  box-sizing: border-box;\r\n}\r\n.list-all-no-img {\r\n  width: 3.34rem;\r\n  height: 1.76rem;\r\n  margin-bottom: 0.7rem;\r\n}\r\n.list-all-no-text {\r\n  font-family: PingFangSC-Regular;\r\n  font-size: 0.32rem;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  letter-spacing: 0rem;\r\n  color: #9fa4b3;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/newsList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"con\"},[_c('publicTop'),_vm._v(\" \"),_c('div',{staticClass:\"home-tabs\"},[_c('div',{staticClass:\"home-tabs-all\"},_vm._l((_vm.tabList),function(item,index){return _c('div',{key:index,staticClass:\"home-tabs-li\",class:_vm.ir == index ? 'home-tabs-li-active' : '',on:{\"click\":function($event){return _vm.goTab(index, item)}}},[_c('div',{staticClass:\"home-tabs-li-text\"},[_vm._v(_vm._s(item.name))])])}),0)]),_vm._v(\" \"),(_vm.subList.length != 0)?_c('div',{staticClass:\"list-all\"},[_c('van-list',{attrs:{\"immediate-check\":false,\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"loading-text\":\"下拉查看全部\"},on:{\"load\":_vm.getSublist},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.subList),function(item,index){return _c('div',{key:index,staticClass:\"list-all-li\",on:{\"click\":function($event){return _vm.goDetailN(item.id)}}},[_c('div',{staticClass:\"list-all-li-top\"},[_vm._v(\"\\n          \"+_vm._s(item.title)+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"list-all-li-end\"},[_c('div',{staticClass:\"list-all-li-end-l\"},[_vm._v(\"\\n            来源于\"+_vm._s(item.publisher)+\"\\n            \"),_c('span',[_vm._v(_vm._s(item.hits)+\"次浏览数\")])]),_vm._v(\" \"),_c('div',{staticClass:\"list-all-li-end-r\"},[_vm._v(_vm._s(item.releaseDate))])])])}),0)],1):_vm._e(),_vm._v(\" \"),(_vm.subList1.length != 0)?_c('div',{staticClass:\"list-all\"},[_c('van-list',{attrs:{\"immediate-check\":false,\"finished\":_vm.finished1,\"finished-text\":\"没有更多了\",\"loading-text\":\"下拉查看全部\"},on:{\"load\":_vm.getVideoList},model:{value:(_vm.loading1),callback:function ($$v) {_vm.loading1=$$v},expression:\"loading1\"}},_vm._l((_vm.subList1),function(item,index){return _c('div',{key:index,staticClass:\"list-all-li\",on:{\"click\":function($event){return _vm.goDetailV(item.id)}}},[_c('div',{staticClass:\"list-all-li-tt\"},[_c('div',{staticClass:\"list-all-li-tt-l\"},[_vm._v(\"\\n            \"+_vm._s(item.title)+\"\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"list-all-li-tt-r\"},[(item.movielen)?_c('div',{staticClass:\"list-all-li-tt-r-ab\"},[_vm._v(\"\\n              \"+_vm._s(item.movielen)+\"\\n            \")]):_vm._e(),_vm._v(\" \"),_c('img',{attrs:{\"src\":item.imageSrc,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"list-all-li-end\"},[_c('div',{staticClass:\"list-all-li-end-l\"},[_vm._v(\"\\n            来源于\"+_vm._s(item.publisher)+\"\\n            \"),_c('span',[_vm._v(_vm._s(item.hits)+\"次浏览数\")])]),_vm._v(\" \"),_c('div',{staticClass:\"list-all-li-end-r\"},[_vm._v(_vm._s(item.releaseDate))])])])}),0)],1):_vm._e(),_vm._v(\" \"),(_vm.isVideo == 9 || _vm.isNew == 9)?_c('div',{staticClass:\"list-all-no\"},[_c('img',{staticClass:\"list-all-no-img\",attrs:{\"src\":require(\"@/assets/noData.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"list-all-no-text\"},[_vm._v(\"暂无数据\")])]):_vm._e(),_vm._v(\" \"),_c('HomeTop',{attrs:{\"i\":_vm.checkIndex}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-52aff6b4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/newsList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-52aff6b4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./newsList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./newsList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./newsList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-52aff6b4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./newsList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-52aff6b4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/newsList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}