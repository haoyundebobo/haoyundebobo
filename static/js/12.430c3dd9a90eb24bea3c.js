webpackJsonp([12],{JGgl:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("pFYg"),a=s.n(i),o=s("Gu7T"),n=s.n(o),l=s("mw3O"),c=s.n(l),r=s("D5Nr"),h=s("UFml"),g={name:"bilateralchosefairList",components:{HomeTop:r.a,publicTop:h.a},data:function(){return{checkIndex:2,tabIndex:0,tabList:[{name:"招聘信息"},{name:"实习信息"},{name:"双选会"},{name:"宣讲会"}],inputContent:"",tabArray:[{name:"推荐"},{name:"最新"}],url:s("bkoR"),loading:!1,finished:!1,pageNo:1,allL:[],bgc:this.GLOBAL.bgc,isShow:!1,online:"",chooseList:[],iIndex:9999999999}},beforeRouteLeave:function(t,e,s){console.log(t,e),"/bilateralchosefairForm"===t.path?(this.$store.commit("updataListShu",this.allL),this.$store.commit("updataPageShu",this.pageNo),this.$store.commit("updataListShuType",this.chooseList)):(this.$store.commit("updataListShu",[]),this.$store.commit("updataPageShu",""),this.$store.commit("updataInputShu",""),sessionStorage.setItem("LineShu",""),sessionStorage.setItem("IIndex","")),s()},watch:{inputContent:function(t,e){console.log(t,e),this.$store.commit("updataInputShu",t)}},methods:{goBack:function(){this.$router.go(-1)},goSear:function(){console.log(this.inputContent,"search"),this.$store.commit("updataInputShu",this.inputContent),this.allL=[],this.kh()},goDe:function(t){this.$router.push({path:"/bilateralchosefairForm",query:{type:4,id:t}})},goShow:function(){this.isShow=!this.isShow},goChoose:function(t,e){console.log(e),this.iIndex=t,this.online=e,this.isShow=!1,this.allL=[],this.kh(),sessionStorage.setItem("LineShu",this.online),sessionStorage.setItem("IIndex",this.iIndex),console.log(this.online,"online")},goClose:function(){this.isShow=!1,sessionStorage.setItem("LineShu",""),sessionStorage.setItem("IIndex",""),this.$router.go(0)},goToggle:function(t){this.tabIndex=t},kh:function(){var t=this;t.loading=!0,console.log(t.$store.getters.getPageShu,"页数"),t.$store.getters.getPageShu&&(t.pageNo=t.$store.getters.getPageShu),1==t.pageNo&&(t.allL=[]),0==t.allL.length&&(t.pageNo=1);var e={pageNo:t.pageNo,pageSize:16,fairType:t.online,title:t.inputContent};console.log(e),t.$axios.post("/f/bilateralchosefair/ajax_frontBilateralchosefair",c.a.stringify(e)).then(function(e){console.log(e,"数据list"),1==e.data.state&&(t.loading=!1,t.pageNo<=e.data.object.totalPage?(++t.pageNo,t.$store.commit("updataPageShu",t.pageNo),e.data.object.list&&0!=e.data.object.list.length&&(t.allL=[].concat(n()(t.allL),n()(e.data.object.list))),console.log(t.allL,t.allL.length,56)):(console.log("有吗"),t.$store.commit("updataPageShu",""),t.finished=!0),e.data.object.searchMap&&e.data.object.searchMap.fairType&&0!=e.data.object.searchMap.fairType.length&&(t.chooseList=e.data.object.searchMap.fairType))}).catch(function(t){console.log("获取失败")})}},created:function(){console.log(this.allL.length,this.$store.getters.getPageShu,a()(this.$store.getters.getPageShu),"all",sessionStorage.getItem("LineShu"),sessionStorage.getItem("IIndex")),this.$store.getters.getInputShu?(this.inputContent=this.$store.getters.getInputShu,console.log(this.inputContent)):this.inputContent="","null"==sessionStorage.getItem("LineShu")||""==sessionStorage.getItem("LineShu")||null==sessionStorage.getItem("LineShu")?this.online="":(this.online=sessionStorage.getItem("LineShu"),console.log(this.online)),"null"==sessionStorage.getItem("IIndex")||""==sessionStorage.getItem("IIndex")||null==sessionStorage.getItem("IIndex")?this.iIndex=99999999:(this.iIndex=sessionStorage.getItem("IIndex"),console.log(this.iIndex)),0!=this.$store.getters.getListShu.length?(this.allL=this.$store.getters.getListShu,this.chooseList=this.$store.getters.getListShuType,console.log(this.allL,this.chooseList,"all")):this.kh()},beforeDestory:function(){},destroyed:function(){},mounted:function(){}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"con"},[i("publicTop"),t._v(" "),i("div",{staticClass:"head-bg",style:"background-image: url("+t.url+");background-size: 100% 100%;"},[i("div",{staticClass:"head-bg-t"},[i("div",{staticClass:"head-bg-l",on:{click:t.goBack}},[i("img",{attrs:{src:s("+/+0"),alt:""}})]),t._v(" "),i("div",{staticClass:"head-bg-text"},[t._v("双选会")])]),t._v(" "),i("div",{staticClass:"head-bg-ending"},[i("div",{staticClass:"zhao-head-div"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputContent,expression:"inputContent"}],attrs:{type:"text",placeholder:"请输入公司/职位"},domProps:{value:t.inputContent},on:{input:function(e){e.target.composing||(t.inputContent=e.target.value)}}}),t._v(" "),i("img",{attrs:{src:s("IRNI"),alt:""},on:{click:t.goSear}})]),t._v(" "),i("div",{staticClass:"head-bg-ending-r",on:{click:t.goShow}},[i("div",{staticClass:"head-bg-ending-r-text"},[t._v("类型")]),t._v(" "),i("img",{attrs:{src:s("nk4s"),alt:""}})])])]),t._v(" "),0!=t.allL.length?i("div",{staticClass:"list-all"},[i("van-list",{attrs:{"immediate-check":!1,finished:t.finished,"finished-text":"没有更多了","loading-text":"下拉查看全部"},on:{load:t.kh},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.allL,function(e,a){return i("div",{key:a,staticClass:"list-all-li",on:{click:function(s){return t.goDe(e.id)}}},[1==e.fairType?i("img",{staticClass:"list-all-li-status",attrs:{src:s("TcUk"),alt:""}}):i("img",{staticClass:"list-all-li-status",attrs:{src:s("XBef"),alt:""}}),t._v(" "),i("div",{staticClass:"list-all-li-r"},[i("div",{staticClass:"list-all-li-r-t"},[i("div",{staticClass:"list-all-li-r-t-text"},[t._v("\n              "+t._s(e.title)+"\n            ")])]),t._v(" "),i("div",{staticClass:"list-all-li-r-m"},[i("img",{staticClass:"list-all-li-r-m-l",attrs:{src:s("6zCj"),alt:""}}),t._v(" "),i("div",{staticClass:"list-all-li-r-m-r"},[t._v(t._s(e.place))])]),t._v(" "),i("div",{staticClass:"list-all-li-r-r"},[i("img",{attrs:{src:s("HYEn"),alt:""}}),t._v(" "),i("div",{staticClass:"list-all-li-r-r-text"},[t._v("\n              "+t._s(e.startTime.slice(0,10))+"\n            ")])])])])}),0)],1):t._e(),t._v(" "),0==t.allL.length?i("div",{staticClass:"list-all-no"},[i("img",{staticClass:"list-all-no-img",attrs:{src:s("nt0a"),alt:""}}),t._v(" "),i("div",{staticClass:"list-all-no-text"},[t._v("暂无数据")])]):t._e(),t._v(" "),0!=t.chooseList.length?i("van-popup",{attrs:{position:"bottom"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[t._l(t.chooseList,function(e,s){return i("div",{key:s,staticClass:"pop-div",class:[s==t.chooseList.length-1?"pop-div1":"",t.iIndex==s?"acti":""],on:{click:function(i){return t.goChoose(s,e.value)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])}),t._v(" "),i("div",{staticClass:"pop-line"}),t._v(" "),i("div",{staticClass:"pop-end",on:{click:t.goClose}},[t._v("取消")])],2):t._e(),t._v(" "),i("HomeTop",{attrs:{i:t.checkIndex}})],1)},staticRenderFns:[]};var d=s("VU/8")(g,u,!1,function(t){s("j4Wa")},"data-v-b11f212a",null);e.default=d.exports},j4Wa:function(t,e){}});
//# sourceMappingURL=12.430c3dd9a90eb24bea3c.js.map